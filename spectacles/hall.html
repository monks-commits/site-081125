<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–í–∏–±—ñ—Ä –º—ñ—Å—Ü—å</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- –æ–±—â–∏–π css —Å–∞–π—Ç–∞ -->
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <!-- –®–∞–ø–∫–∞ -->
  <header class="site-header">
    <div class="container header-inner">
      <a href="../index.html" class="logo">–í–∞—à –ê–¥–º—ñ–Ω</a>
      <nav class="nav">
        <a href="../afisha.html">–ê—Ñ—ñ—à–∞</a>
        <a href="../theatres.html">–¢–µ–∞—Ç—Ä–∏</a>
        <a href="../contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding-top: 24px; padding-bottom: 32px;">
    <h1 style="margin-bottom: 12px;">–í–∏–±—ñ—Ä –º—ñ—Å—Ü—å</h1>

    <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
    <div style="display:flex; align-items:center; gap:18px; font-size:14px; margin-bottom:16px;">
      <label style="display:flex; align-items:center; gap:6px;">
        <span class="hall-seat" style="min-width:20px; height:20px;"></span> –≤—ñ–ª—å–Ω–æ
      </label>
      <label style="display:flex; align-items:center; gap:6px;">
        <span class="hall-seat selected" style="min-width:20px; height:20px;"></span> –≤–∏–±—Ä–∞–Ω–æ
      </label>
      <label style="display:flex; align-items:center; gap:6px;">
        <span class="hall-seat taken" style="min-width:20px; height:20px;"></span> –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
      </label>
    </div>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–ª–∞ + —Ñ–æ—Ä–º—ã -->
    <div class="card">
      <!-- –ë–ª–æ–∫ –∑–∞–ª–∞ -->
      <div class="hall-wrapper">
        <div id="hall-stage" class="hall-stage">–°—Ü–µ–Ω–∞</div>
        <div id="hall-container"></div>
      </div>

      <!-- –ò—Ç–æ–≥–æ -->
      <p style="margin-top:8px; margin-bottom:18px; font-weight:500;">
        –í–∏–±—Ä–∞–Ω–æ –º—ñ—Å—Ü—å: <span id="selected-count">0</span> ‚Ä¢
        –°—É–º–∞: <span id="selected-sum">0</span> –≥—Ä–Ω
      </p>

      <!-- –î–∞–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è -->
      <h2 style="margin-top:0; font-size:20px; margin-bottom:12px;">–î–∞–Ω—ñ –ø–æ–∫—É–ø—Ü—è</h2>

      <div class="form-row">
        <div style="flex:1;">
          <label for="buyer-name">–Ü–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ</label>
          <input id="buyer-name" type="text" class="form-control" placeholder="–í–∞—à–µ —ñ–º‚Äô—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ">
        </div>
      </div>

      <div class="form-row">
        <div style="flex:1;">
          <label for="buyer-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
          <input id="buyer-phone" type="tel" class="form-control" placeholder="+380‚Ä¶">
        </div>
      </div>

      <div class="form-row">
        <div style="flex:1;">
          <label for="buyer-email">–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ (–∫—É–¥–∏ –Ω–∞–¥—ñ–π–¥–µ PDF-–∫–≤–∏—Ç–æ–∫)</label>
          <input id="buyer-email" type="email" class="form-control" placeholder="you@example.com">
        </div>
      </div>

      <div style="margin-top:16px; text-align:left;">
        <button id="pay-btn" class="button-primary">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏</button>
      </div>
    </div>
  </main>

  <!-- –ü–æ–¥–≤–∞–ª -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div style="flex:1; min-width:220px;">
        <h3>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h3>
        <p>–§–û–ü –†—è–±–æ–≤ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ì–µ—Ä–º–∞–Ω–æ–≤–∏—á</p>
        <p>–ê–¥—Ä–µ—Å–∞: –£–∫—Ä–∞—ó–Ω–∞, 49100, –î–Ω—ñ–ø—Ä–æ, –≤—É–ª. –ú–∞–Ω–¥—Ä–∏–∫—ñ–≤—Å—å–∫–∞, 163, –∫–≤.27</p>
        <p>–¢–µ–ª–µ—Ñ–æ–Ω: +380 (98) 126-16-95</p>
        <p>Email: <a href="mailto:alexandrryabov@ukr.net" style="color:#fff;">alexandrryabov@ukr.net</a></p>
      </div>
      <div style="flex:1; min-width:220px;">
        <h3>–û—Ñ—ñ—Ü—ñ–π–Ω–æ</h3>
        <p>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä: 2002240000000166615</p>
        <p>–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó: 13.10.2025</p>
        <p>–°—Ç–∞—Ç—É—Å: –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ</p>
        <p><a href="../public-offer.html" style="color:#fff;">–ü—É–±–ª—ñ—á–Ω–∏–π –¥–æ–≥–æ–≤—ñ—Ä (–æ—Ñ–µ—Ä—Ç–∞)</a></p>
      </div>
      <div style="flex:1; min-width:220px;">
        <h3>–ü—Ä–æ –Ω–∞—Å</h3>
        <p>–ü—Ä–æ–¥–∞–∂ –∫–≤–∏—Ç–∫—ñ–≤ –∑–∞ —Ü—ñ–Ω–æ—é –∫–∞—Å–∏ —Ç–µ–∞—Ç—Ä—É.</p>
        <p>–ü—Ä–∞—Ü—é—î–º–æ –∑ —Ç–µ–∞—Ç—Ä–∞–º–∏ –î–Ω—ñ–ø—Ä–∞ —Ç–∞ –ö—Ä–∏–≤–æ–≥–æ –†–æ–≥—É.</p>
        <p>–ë–µ–∑ –∫–æ–º—ñ—Å—ñ–π. –ë–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç.</p>
      </div>
    </div>
    <div class="footer-bottom">
      ¬© 2025 –í–∞—à –ê–¥–º—ñ–Ω ‚Äî —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω—ñ –∫–≤–∏—Ç–∫–∏
    </div>
  </footer>

  <!-- Supabase + –ª–æ–≥–∏–∫–∞ –∑–∞–ª–∞ + LiqPay -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    /***********************
     * 1. –ù–ê–°–¢–†–û–ô–ö–ò –ü–†–û–ï–ö–¢–ê
     ***********************/
    // TODO: –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è
    const SUPABASE_URL = 'https://yqhzekifwxotizsmaeaf.supabase.co;        // —Ä–æ–≤–Ω–æ –∫–∞–∫ –≤ Project URL
const SUPABASE_ANON_KEY = 'sb_publishable_z1h_G-7K7HGCjOUtRZpI9Q_o1m9inZM';              // —Ä–æ–≤–Ω–æ –∫–∞–∫ –≤ anon public
const LIQPAY_FN_URL = 'https://yqhzekifwxotizsmaeaf.supabase.co/functions/v1/liqpay-create-index-ts';

    const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // –∫–∞–∫–æ–π —Å–ø–µ–∫—Ç–∞–∫–ª—å –æ—Ç–∫—Ä—ã—Ç
    const params = new URLSearchParams(window.location.search);
    const CURRENT_SHOW = params.get('show') || '';
    const CURRENT_THEATRE = CURRENT_SHOW.startsWith('shevchenko') ? 'shevchenko' : 'academy';

    /***********************
     * 2. –ö–û–ù–§–ò–ì –ó–ê–õ–û–í
     ***********************/
    const HALLS = {
      academy: {
        name: '–í–µ–ª–∏–∫–∞ —Å—Ü–µ–Ω–∞ (–ê–∫–∞–¥–µ–º—ñ—è —Ä—É—Ö—É)',
        rows: [
          { row: 1,  seats: 11, offset: 6,  aisles: [],     zones: [ { from: 1, to: 11, price: 220 } ],                   gapAfter: false },

          { row: 2,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 160 },
            { from: 7,  to: 17, price: 200 },
            { from: 18, to: 23, price: 160 }
          ]},
          { row: 3,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 160 },
            { from: 7,  to: 17, price: 200 },
            { from: 18, to: 23, price: 160 }
          ]},
          { row: 4,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 160 },
            { from: 7,  to: 17, price: 200 },
            { from: 18, to: 23, price: 160 }
          ]},
          { row: 5,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 160 },
            { from: 7,  to: 17, price: 200 },
            { from: 18, to: 23, price: 160 }
          ]},
          { row: 6,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 160 },
            { from: 7,  to: 17, price: 200 },
            { from: 18, to: 23, price: 160 }
          ], gapAfter: true },

          { row: 7,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 150 },
            { from: 7,  to: 17, price: 190 },
            { from: 18, to: 23, price: 150 }
          ]},

          { row: 8,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},
          { row: 9,  seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},
          { row: 10, seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},
          { row: 11, seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},
          { row: 12, seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},
          { row: 13, seats: 23, aisles: [6,17], zones: [
            { from: 1,  to: 6,  price: 140 },
            { from: 7,  to: 9,  price: 160 },
            { from: 10, to: 14, price: 180 },
            { from: 15, to: 17, price: 160 },
            { from: 18, to: 23, price: 140 }
          ]},

          { row: 14, seats: 23, aisles: [6,17], zones: [
            { from: 1, to: 23, price: 130 }
          ]},
          { row: 15, seats: 23, aisles: [6,17], zones: [
            { from: 1, to: 23, price: 130 }
          ]},
          { row: 16, seats: 23, aisles: [6,17], zones: [
            { from: 1, to: 23, price: 130 }
          ], gapAfter: true },

          { row: 17, seats: 23, aisles: [6,17], zones: [
            { from: 1, to: 23, price: 120 }
          ], gapAfter: true },

          { row: 18, seats: 20, aisles: [10], zones: [
            { from: 1, to: 20, price: 110 }
          ]}
        ]
      },

      shevchenko: {
        name: '–í–µ–ª–∏–∫–∞ —Å—Ü–µ–Ω–∞ (–¢–µ–∞—Ç—Ä —ñ–º. –®–µ–≤—á–µ–Ω–∫–∞)',
        rows: [
          { row: 1,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 170 } ] },
          { row: 2,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 200 } ] },
          { row: 3,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 200 } ] },
          { row: 4,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 180 } ] },
          { row: 5,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 180 } ] },
          { row: 6,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 180 } ] },
          { row: 7,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 170 } ] },
          { row: 8,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 170 } ] },
          { row: 9,  seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 160 } ] },
          { row: 10, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 160 } ] },
          { row: 11, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 140 } ] },
          { row: 12, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 140 } ] },
          { row: 13, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 120 } ] },
          { row: 14, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 120 } ] },
          { row: 15, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 100 } ] },
          { row: 16, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 100 } ] },
          { row: 17, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 70 } ] },
          { row: 18, seats: 20, aisles: [10], zones: [ { from: 1,  to: 20, price: 70 } ] }
        ]
      }
    };

    const hallConfig = CURRENT_THEATRE === 'shevchenko' ? HALLS.shevchenko : HALLS.academy;

    /***********************
     * 3. –û–¢–†–ò–°–û–í–ö–ê –ó–ê–õ–ê
     ***********************/
    let selectedSeats = [];
    let takenSeatsSet = new Set();

    function seatKey(row, seat) {
      return `${row}-${seat}`;
    }

    function seatPrice(rowCfg, seatNum) {
      if (!rowCfg.zones) return 0;
      for (const z of rowCfg.zones) {
        if (seatNum >= z.from && seatNum <= z.to) return z.price;
      }
      return 0;
    }

    async function loadTakenSeats() {
      // –æ—Ç–º–µ—á–∞–µ–º –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ –∫–∞–∫ –∑–∞–Ω—è—Ç—ã–µ
      const { data, error } = await supabaseClient
        .from('tickets_orders')
        .select('seats')
        .eq('theatre', CURRENT_THEATRE)
        .eq('show_slug', CURRENT_SHOW)
        .in('status', ['paid']);

      if (error) {
        console.error('loadTakenSeats error', error);
        return;
      }

      takenSeatsSet = new Set();
      (data || []).forEach(order => {
        (order.seats || []).forEach(s => {
          takenSeatsSet.add(seatKey(s.row, s.seat));
        });
      });
    }

    function recalcTotals() {
      const total = selectedSeats.reduce((sum, s) => sum + (s.price || 0), 0);
      document.getElementById('selected-count').textContent = selectedSeats.length;
      document.getElementById('selected-sum').textContent = total;
      window.selectedSeats = selectedSeats; // —á—Ç–æ–±—ã –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã
    }

    function toggleSeat(rowCfg, seatNum, btn) {
      const price = seatPrice(rowCfg, seatNum);
      const key = seatKey(rowCfg.row, seatNum);
      const idx = selectedSeats.findIndex(s => s.row === rowCfg.row && s.seat === seatNum);

      if (idx >= 0) {
        selectedSeats.splice(idx, 1);
        btn.classList.remove('selected');
      } else {
        selectedSeats.push({ row: rowCfg.row, seat: seatNum, price });
        btn.classList.add('selected');
      }
      recalcTotals();
    }

    function renderHall() {
      const container = document.getElementById('hall-container');
      container.innerHTML = '';

      document.getElementById('hall-stage').textContent = hallConfig.name;

      hallConfig.rows.forEach(rowCfg => {
        const rowWrap = document.createElement('div');
        rowWrap.className = 'hall-row';

        const label = document.createElement('div');
        label.className = 'hall-row-label';
        label.textContent = '–†—è–¥ ' + rowCfg.row;
        rowWrap.appendChild(label);

        const seatsWrap = document.createElement('div');
        seatsWrap.className = 'hall-row-seats';

        // –æ—Ç—Å—Ç—É–ø –≤ –Ω–∞—á–∞–ª–µ (offset)
        const offset = rowCfg.offset || 0;
        for (let i = 0; i < offset; i++) {
          const stub = document.createElement('div');
          stub.className = 'hall-seat';
          stub.style.visibility = 'hidden';
          seatsWrap.appendChild(stub);
        }

        for (let s = 1; s <= rowCfg.seats; s++) {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.className = 'hall-seat';
          btn.textContent = s;

          const key = seatKey(rowCfg.row, s);
          if (takenSeatsSet.has(key)) {
            btn.classList.add('taken');
            btn.disabled = true;
          }

          btn.addEventListener('click', () => {
            if (btn.disabled) return;
            toggleSeat(rowCfg, s, btn);
          });

          seatsWrap.appendChild(btn);

          if (rowCfg.aisles && rowCfg.aisles.includes(s)) {
            const gap = document.createElement('div');
            gap.className = 'hall-aisle';
            seatsWrap.appendChild(gap);
          }
        }

        rowWrap.appendChild(seatsWrap);
        container.appendChild(rowWrap);

        if (rowCfg.gapAfter) {
          const gapRow = document.createElement('div');
          gapRow.className = 'hall-row-gap';
          container.appendChild(gapRow);
        }
      });

      recalcTotals();
    }

    /***********************
     * 4. –û–ü–õ–ê–¢–ê –ß–ï–†–ï–ó LIQPAY
     ***********************/
    const HALL_NAME = hallConfig.name;

    async function handlePayClick() {
      if (!selectedSeats.length) {
        alert('–°–ø–æ—á–∞—Ç–∫—É –æ–±–µ—Ä—ñ—Ç—å —Ö–æ—á–∞ –± –æ–¥–Ω–µ –º—ñ—Å—Ü–µ üôÇ');
        return;
      }

      const name  = document.getElementById('buyer-name').value.trim();
      const phone = document.getElementById('buyer-phone').value.trim();
      const email = document.getElementById('buyer-email').value.trim();

      if (!name || !phone || !email) {
        alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –Ü–º‚Äô—è, –¢–µ–ª–µ—Ñ–æ–Ω —Ç–∞ Email.');
        return;
      }

      const total = selectedSeats.reduce((sum, s) => sum + (s.price || 0), 0);

      try {
        // 1) —Å–æ–∑–¥–∞—ë–º –∑–∞–∫–∞–∑ –≤ Supabase
        const { data: inserted, error } = await supabaseClient
          .from('tickets_orders')
          .insert({
            theatre: CURRENT_THEATRE,
            show_slug: CURRENT_SHOW,
            hall_name: HALL_NAME,
            seats: selectedSeats,
            total_amount: total,
            customer_name: name,
            customer_phone: phone,
            customer_email: email,
            status: 'pending'
          })
          .select()
          .single();

        if (error) {
          console.error(error);
          alert('–ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
          return;
        }

        const orderId = inserted.id;

        // 2) –ø—Ä–æ—Å–∏–º Edge Function –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å data + signature
        const description =
          `–ö–≤–∏—Ç–∫–∏ ‚Ä¢ ${HALL_NAME} ‚Ä¢ –º—ñ—Å—Ü—è: ` +
          selectedSeats.map(s => `–†${s.row}-–ú${s.seat}`).join(', ');

        const resultUrl = window.location.origin + '/site-081125/after-payment.html'; // TODO: —Å–¥–µ–ª–∞–π —Ç–∞–∫—É—é —Å—Ç–æ—Ä—ñ–Ω–∫—É
        const resp = await fetch(LIQPAY_FN_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            amount: total,
            order_id: orderId,
            description,
            result_url: resultUrl
            // server_url –º–æ–∂–Ω–æ –¥–æ–¥–∞—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ –¥–ª—è –≤–µ–±—Ö—É–∫–∞
          })
        });

        if (!resp.ok) {
          console.error('liqpay fn error', resp.status);
          alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø—ñ–¥–≥–æ—Ç–æ–≤—Ü—ñ –æ–ø–ª–∞—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
          return;
        }

        const { data, signature } = await resp.json();

        // 3) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ LiqPay
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = 'https://www.liqpay.ua/api/3/checkout';

        const inputData = document.createElement('input');
        inputData.type = 'hidden';
        inputData.name = 'data';
        inputData.value = data;

        const inputSign = document.createElement('input');
        inputSign.type = 'hidden';
        inputSign.name = 'signature';
        inputSign.value = signature;

        form.appendChild(inputData);
        form.appendChild(inputSign);
        document.body.appendChild(form);
        form.submit();
      } catch (e) {
        console.error(e);
        alert('–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –æ–ø–ª–∞—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.');
      }
    }

    /***********************
     * 5. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
     ***********************/
    document.addEventListener('DOMContentLoaded', async () => {
      await loadTakenSeats();
      renderHall();
      const btn = document.getElementById('pay-btn');
      if (btn) {
        btn.addEventListener('click', function (e) {
          e.preventDefault();
          handlePayClick();
        });
      }
    });
  </script>
</body>
</html>
