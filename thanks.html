<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Дякуємо за оплату — Ваш Адмін</title>
  <link rel="icon" href="data:,">
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div id="site-header"></div>

  <main class="main" style="max-width:900px;margin:0 auto;padding:16px">
    <nav style="margin:8px 0 16px;">
      <a href="/afisha.html">Афіша</a> ·
      <a href="/theatres.html">Театри</a> ·
      <a href="/contacts.html">Контакти</a>
    </nav>

    <section class="section" style="background:#fff;border-radius:14px;padding:18px">
      <h1 style="margin-top:0;margin-bottom:12px;">Дякуємо за оплату!</h1>

      <p>Ми отримали ваше замовлення. Квитки надійдуть на вказану електронну пошту.</p>

      <p style="margin-top:12px;">
        Номер замовлення:
        <b><span id="order-id">—</span></b>
      </p>
      <p>
        Сума:
        <b><span id="order-amount">—</span> грн</b>
      </p>

      <p style="margin-top:12px;font-size:14px;color:#6b7280;">
        Якщо листа немає — перевірте папку «Спам» або напишіть нам у Telegram.
      </p>

      <a
        href="/afisha.html"
        class="btn primary"
        style="display:inline-block;margin-top:16px;padding:10px 18px;border-radius:999px;text-decoration:none;"
      >
        Повернутися до афіші
      </a>
    </section>
  </main>

  <div id="site-footer"></div>

  <script src="/scripts/include.js"></script>
  <script>
    (function () {
      const params = new URLSearchParams(window.location.search);

      // 1) Пытаемся взять из URL, который вернёт LiqPay
      let orderId =
        params.get('order_id') ||
        params.get('orderId') ||
        localStorage.getItem('va_last_order_id') ||
        '—';

      let amount =
        params.get('amount') ||
        localStorage.getItem('va_last_amount') ||
        '—';

      const idEl = document.getElementById('order-id');
      const amountEl = document.getElementById('order-amount');

      if (idEl) idEl.textContent = orderId;
      if (amountEl) amountEl.textContent = amount;

      // После успешного показа — очищаем, чтобы не висело старое
      try {
        if (orderId !== '—') {
          localStorage.removeItem('va_last_order_id');
        }
        if (amount !== '—') {
          localStorage.removeItem('va_last_amount');
        }
      } catch (e) {
        console.warn('localStorage cleanup error', e);
      }
    })();
  </script>
</body>
</html>
